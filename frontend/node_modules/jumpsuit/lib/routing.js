'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.default = function () {
  var params = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

  if (params.back) {
    var amount = params.back === true ? -1 : -Math.abs(params.back);
    return (0, _reactRouterRedux.go)(amount);
  }

  if (params.forward) {
    var _amount = params.forward === true ? 1 : Math.abs(params.forward);
    return (0, _reactRouterRedux.go)(_amount);
  }

  var state = _reducer.STORE.getState();

  if (params.replace) {
    var _newParams = _extends({}, params);
    delete _newParams.replace;

    return _reducer.STORE.dispatch((0, _reactRouterRedux.push)(_newParams));
  }

  var location = state.routing.locationBeforeTransitions;
  var newParams = Object.assign({}, {
    hash: location.hash,
    pathname: location.pathname
  }, params);

  newParams.query = Object.assign({}, location.query, newParams.query);
  return _reducer.STORE.dispatch((0, _reactRouterRedux.push)(newParams));
};

var _reactRouterRedux = require('react-router-redux');

var _reducer = require('./reducer');